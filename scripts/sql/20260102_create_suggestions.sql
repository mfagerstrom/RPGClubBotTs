CREATE TABLE RPG_CLUB_SUGGESTIONS (
  SUGGESTION_ID  NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
  TITLE          VARCHAR2(200) NOT NULL,
  DETAILS        VARCHAR2(2000),
  CREATED_BY     VARCHAR2(30),
  CREATED_AT     TIMESTAMP WITH TIME ZONE DEFAULT SYSTIMESTAMP NOT NULL,
  UPDATED_AT     TIMESTAMP WITH TIME ZONE DEFAULT SYSTIMESTAMP NOT NULL
);

CREATE INDEX IX_RPG_CLUB_SUGGESTIONS_CREATED ON RPG_CLUB_SUGGESTIONS (CREATED_AT);

CREATE OR REPLACE TRIGGER TRG_RPG_CLUB_SUGGESTIONS_UPD
BEFORE UPDATE ON RPG_CLUB_SUGGESTIONS
FOR EACH ROW
BEGIN
  :NEW.UPDATED_AT := SYSTIMESTAMP;
END;
/

commit;
